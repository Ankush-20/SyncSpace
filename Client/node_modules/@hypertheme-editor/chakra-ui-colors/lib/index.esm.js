import React, { useRef, useMemo, useEffect, useState, useCallback, useLayoutEffect } from 'react';
import { useColorModeValue, Box, Text, Flex, Popover, PopoverTrigger, PopoverContent, PopoverBody, Input, DrawerHeader, ButtonGroup, IconButton, Divider, Button, Drawer, DrawerContent, DrawerBody, SimpleGrid, DrawerFooter, useDisclosure, Tooltip, Center, Icon, FormControl, FormLabel, PopoverCloseButton, PopoverHeader, Stack, Switch, PopoverFooter, Accordion } from '@chakra-ui/react';
import { CgColorPicker } from 'react-icons/cg';
import { useThemeEditor, ColorModeToggle, BaseListItem, setThemeColorPalette, setThemeSingleColor, themeColorKeys, ThemeEditorAccordionItem, EmptyBox } from '@hypertheme-editor/chakra-ui-core';
import { useDebouncyEffect } from 'use-debouncy';
import { FaTrashAlt, FaPlus } from 'react-icons/fa';
import { MdClose } from 'react-icons/md';
import { RiArrowGoBackFill, RiArrowGoForwardFill } from 'react-icons/ri';

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function u$1(){return (u$1=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);}return e}).apply(this,arguments)}function c$1(e,r){if(null==e)return {};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r.indexOf(t=a[o])>=0||(n[t]=e[t]);return n}function s$1(e){var t=useRef(e),o=useRef(function(e){t.current&&t.current(e);});return t.current=e,o.current}var i$1=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},f$1=function(e){return "touches"in e},v$1=function(e,r){var t=e.getBoundingClientRect(),o=f$1(r)?r.touches[0]:r;return {left:i$1((o.pageX-(t.left+window.pageXOffset))/t.width),top:i$1((o.pageY-(t.top+window.pageYOffset))/t.height)}},d$1=function(e){!f$1(e)&&e.preventDefault();},h$1=React.memo(function(n){var a=n.onMove,l=n.onKey,i=c$1(n,["onMove","onKey"]),h=useRef(null),m=s$1(a),g=s$1(l),p=useRef(!1),b=useMemo(function(){var e=function(e){d$1(e),(f$1(e)?e.touches.length>0:e.buttons>0)&&h.current?m(v$1(h.current,e)):t(!1);},r=function(){return t(!1)};function t(t){var o=p.current,n=t?self.addEventListener:self.removeEventListener;n(o?"touchmove":"mousemove",e),n(o?"touchend":"mouseup",r);}return [function(e){var r=e.nativeEvent,o=h.current;o&&(d$1(r),!function(e,r){return r&&!f$1(e)}(r,p.current)&&o&&(p.current=f$1(r),o.focus(),m(v$1(o,r)),t(!0)));},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),g({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}));},t]},[g,m]),_=b[0],x=b[1],C=b[2];return useEffect(function(){return C},[C]),React.createElement("div",u$1({},i,{onTouchStart:_,onMouseDown:_,className:"react-colorful__interactive",ref:h,onKeyDown:x,tabIndex:0,role:"slider"}))}),m$1=function(e){return e.filter(Boolean).join(" ")},g$1=function(r){var t=r.color,o=r.left,n=r.top,a=void 0===n?.5:n,l=m$1(["react-colorful__pointer",r.className]);return React.createElement("div",{className:l,style:{top:100*a+"%",left:100*o+"%"}},React.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},p$1=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},M$1=function(e){var r=e.s,t=e.v,o=e.a,n=(200-r)*t/100;return {h:p$1(e.h),s:p$1(n>0&&n<200?r*t/100/(n<=100?n:200-n)*100:0),l:p$1(n/2),a:p$1(o,2)}},N$1=function(e){var r=M$1(e);return "hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},w$1=function(e){var r=M$1(e);return "hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},y$1=function(e){var r=e.h,t=e.s,o=e.v,n=e.a;r=r/360*6,t/=100,o/=100;var a=Math.floor(r),l=o*(1-t),u=o*(1-(r-a)*t),c=o*(1-(1-r+a)*t),s=a%6;return {r:p$1(255*[o,u,l,l,c,o][s]),g:p$1(255*[c,o,o,u,l,l][s]),b:p$1(255*[l,l,c,o,o,u][s]),a:p$1(n,2)}},O=function(e){var r=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?z({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},z=function(e){var r=e.r,t=e.g,o=e.b,n=e.a,a=Math.max(r,t,o),l=a-Math.min(r,t,o),u=l?a===r?(t-o)/l:a===t?2+(o-r)/l:4+(r-t)/l:0;return {h:p$1(60*(u<0?u+6:u)),s:p$1(a?l/a*100:0),v:p$1(a/255*100),a:n}},K=React.memo(function(r){var t=r.hue,o=r.onChange,n=m$1(["react-colorful__hue",r.className]);return React.createElement("div",{className:n},React.createElement(h$1,{onMove:function(e){o({h:360*e.left});},onKey:function(e){o({h:i$1(t+360*e.left,0,360)});},"aria-label":"Hue","aria-valuetext":p$1(t)},React.createElement(g$1,{className:"react-colorful__hue-pointer",left:t/360,color:N$1({h:t,s:100,v:100,a:1})})))}),L=React.memo(function(r){var t=r.hsva,o=r.onChange,n={backgroundColor:N$1({h:t.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:n},React.createElement(h$1,{onMove:function(e){o({s:100*e.left,v:100-100*e.top});},onKey:function(e){o({s:i$1(t.s+100*e.left,0,100),v:i$1(t.v-100*e.top,0,100)});},"aria-label":"Color","aria-valuetext":"Saturation "+p$1(t.s)+"%, Brightness "+p$1(t.v)+"%"},React.createElement(g$1,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:N$1(t)})))}),A=function(e,r){if(e===r)return !0;for(var t in e)if(e[t]!==r[t])return !1;return !0},D=function(e,r){return e.replace(/\s/g,"")===r.replace(/\s/g,"")};function S$1(e,t,l){var u=s$1(l),c=useState(function(){return e.toHsva(t)}),i=c[0],f=c[1],v=useRef({color:t,hsva:i});useEffect(function(){if(!e.equal(t,v.current.color)){var r=e.toHsva(t);v.current={hsva:r,color:t},f(r);}},[t,e]),useEffect(function(){var r;A(i,v.current.hsva)||e.equal(r=e.fromHsva(i),v.current.color)||(v.current={hsva:i,color:r},u(r));},[i,e,u]);var d=useCallback(function(e){f(function(r){return Object.assign({},r,e)});},[]);return [i,d]}var P,T="undefined"!=typeof window?useLayoutEffect:useEffect,X=function(){return ("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0)},R=function(){T(function(){if("undefined"!=typeof document&&!P){(P=document.createElement("style")).innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';var e=X();e&&P.setAttribute("nonce",e),document.head.appendChild(P);}},[]);},Q=function(r){var t=r.className,o=r.hsva,n=r.onChange,a={backgroundImage:"linear-gradient(90deg, "+w$1(Object.assign({},o,{a:0}))+", "+w$1(Object.assign({},o,{a:1}))+")"},l=m$1(["react-colorful__alpha",t]);return React.createElement("div",{className:l},React.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),React.createElement(h$1,{onMove:function(e){n({a:e.left});},onKey:function(e){n({a:i$1(o.a+e.left)});},"aria-label":"Alpha","aria-valuetext":p$1(100*o.a)+"%"},React.createElement(g$1,{className:"react-colorful__alpha-pointer",left:o.a,color:w$1(o)})))},U=function(r){var t=r.className,o=r.colorModel,n=r.color,a=void 0===n?o.defaultColor:n,l=r.onChange,s=c$1(r,["className","colorModel","color","onChange"]);R();var i=S$1(o,a,l),f=i[0],v=i[1],d=m$1(["react-colorful",t]);return React.createElement("div",u$1({},s,{className:d}),React.createElement(L,{hsva:f,onChange:v}),React.createElement(K,{hue:f.h,onChange:v}),React.createElement(Q,{hsva:f,onChange:v,className:"react-colorful__last-control"}))},me={defaultColor:"rgba(0, 0, 0, 1)",toHsva:O,fromHsva:function(e){var r=y$1(e);return "rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")"},equal:D},ge=function(r){return React.createElement(U,u$1({},r,{colorModel:me}))};

var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return "string"==typeof r?r.length>0:"number"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return (r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return {r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return {r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return {h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return {r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return {h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return {h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e;},c=function(r){return {h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u;},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u="deg"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},"hsl"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},"rgb"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},"hsl"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return {h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},"hsv"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return [e,t[n][1]]}return [null,void 0]},x=function(r){return "string"==typeof r?N(r.trim(),y.string):"object"==typeof r&&null!==r?N(r,y.object):[null,void 0]},M=function(r,t){var n=c(r);return {h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return (299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return {h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1};}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):"","#"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i;},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?"rgba("+t+", "+n+", "+e+", "+u+")":"rgb("+t+", "+n+", "+e+")";var r,t,n,e,u;},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?"hsla("+t+", "+n+"%, "+e+"%, "+u+")":"hsl("+t+", "+n+"%, "+e+"%)";var r,t,n,e,u;},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r;},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r;},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return "number"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t;},r.prototype.hue=function(r){var t=c(this.rgba);return "number"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r));});};

function namesPlugin(e,f){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return "transparent";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b="black";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g);}return b}};f.string.push([function(f){var r=f.toLowerCase(),d="transparent"===r?"#0000":a[r];return d?new e(d).toRgb():null},"name"]);}

var COLOR_PICKER_TRANSPARENT_SAFE_BG_B64 = [
    'iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFXSURBVHgB7d3BCcJAFEXRiViH4MJ2LNZ2sgikEa0iM3A9p4PhMsvP2/bj/IwFXs/Heyzwb++9DdIEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geO2sYirxjn84DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4LjNld8ctgu5hMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHHcfLLEf55RZQduFk9gu5BICxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3Cc68J5vmOBH2JAIyklQWkKAAAAAElFTkSuQmCC',
    'iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7d2xDQJBDADBe0Q9hISUQLGUQEhIQ1AFZ2mZ6cBaObR8rCGX6+2xBrxfz/saMDXvaZEmcJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRx3uPLbY2peGxwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRx3rCGuGvewwXECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3DcebHbZ23kd+EmfhfyEwLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncNy/XxduvfSb8AX+bh2Xn9jf+AAAAABJRU5ErkJggg==',
];

k([namesPlugin]);
var ThemeEditorColorItem = function (_a) {
    var p = _a.p, px = _a.px, _b = _a.title, title = _b === void 0 ? 'Primary' : _b, token = _a.token, colorIndex = _a.colorIndex, value = _a.value, onChange = _a.onChange, rest = __rest(_a, ["p", "px", "title", "token", "colorIndex", "value", "onChange"]);
    var _c = useState(value), currentValue = _c[0], setCurrentValue = _c[1];
    var rgbaString = useMemo(function () {
        if (!currentValue) {
            return '#ffffff';
        }
        return currentValue.startsWith('rgba') ? currentValue : w(currentValue).toRgbString();
    }, [currentValue]);
    var shadow = useColorModeValue('surface', 'surfaceDark');
    var safeB64Bg = useColorModeValue(COLOR_PICKER_TRANSPARENT_SAFE_BG_B64[0], COLOR_PICKER_TRANSPARENT_SAFE_BG_B64[1]);
    var handleValueChange = useCallback(function (event) {
        setCurrentValue(event.target.value);
    }, []);
    useDebouncyEffect(function () {
        if (w(currentValue).isValid() && currentValue !== value) {
            onChange({ token: token, colorIndex: colorIndex, value: currentValue });
        }
    }, 500, [currentValue]);
    useEffect(function () {
        setCurrentValue(value);
    }, [value]);
    return (React.createElement(Box, __assign({ w: "100%" }, rest),
        React.createElement(Text, { mb: 1, p: p, px: px, fontSize: "0.875rem", textTransform: "capitalize" }, title),
        React.createElement(Flex, { alignItems: "center", p: p, px: px, pos: "relative", minH: "48px" },
            React.createElement(Popover, { trigger: "hover", placement: "bottom-start" },
                React.createElement(PopoverTrigger, null,
                    React.createElement(Box, { borderRadius: "full", bgSize: "cover", bgImage: "url(data:image/png;base64," + safeB64Bg + ")", cursor: "pointer", transition: "all 0.25s", mr: "0.75rem", _hover: {
                            shadow: 'md',
                        } },
                        React.createElement(Box, { boxSize: 8, bg: currentValue, shadow: shadow, border: "3px solid", borderColor: "rgba(220,220,220,0.4)", borderRadius: "full", minW: 8 }))),
                React.createElement(PopoverContent, { w: "min-content" },
                    React.createElement(PopoverBody, { p: "0", w: "min-content" },
                        React.createElement(ge, { color: rgbaString, onChange: setCurrentValue })))),
            React.createElement(Input, { w: "100%", size: "sm", borderRadius: "6px", shadow: shadow, cursor: "pointer", px: "0.5rem", pos: "sticky", left: "0", value: currentValue, onChange: handleValueChange, fontSize: "0.875rem", placeholder: "Color code" }))));
};

var ThemeEditorPaletteDrawerHeader = function (_a) {
    var onClose = _a.onClose, initialFocusRef = _a.initialFocusRef, token = _a.token;
    var _b = useThemeEditor(), canUndo = _b.canUndo, canRedo = _b.canRedo, undo = _b.undo, redo = _b.redo, theme = _b.theme;
    return (React.createElement(DrawerHeader, { d: "flex", alignItems: "center", backgroundColor: "rgba(0,0,0,0)", px: { base: 3, lg: 6 } },
        React.createElement(Flex, { alignItems: "center", w: "100%", flex: "1" },
            (theme === null || theme === void 0 ? void 0 : theme.colors) && (React.createElement(ThemeEditorPalette, { palette: theme === null || theme === void 0 ? void 0 : theme.colors[token], token: token, w: 20, h: { base: 10, md: 10 }, mr: 3, alignSelf: "centrer", d: { base: 'none', sm: 'grid' } })),
            React.createElement(Box, null,
                React.createElement(Text, { fontSize: { base: 'md', lg: 'lg' }, textTransform: "capitalize" },
                    token,
                    " palette"),
                React.createElement(Flex, { alignItems: "center" },
                    React.createElement(ColorModeToggle, { p: 0, w: "auto", fontSize: "0.875rem" })))),
        React.createElement(ButtonGroup, { size: "sm", borderRadius: "md", isAttached: true, overflow: "hidden" },
            React.createElement(IconButton, { icon: React.createElement(RiArrowGoBackFill, null), "aria-label": "undo", disabled: !canUndo, onClick: undo }),
            React.createElement(Divider, { orientation: "vertical" }),
            React.createElement(IconButton, { icon: React.createElement(RiArrowGoForwardFill, null), "aria-label": "redo", disabled: !canRedo, onClick: redo })),
        React.createElement(Button, { borderRadius: "6px", boxSize: { base: 12, lg: 14 }, onClick: onClose, fontSize: "1.5rem", p: "0.5rem", ml: "1rem", ref: initialFocusRef },
            React.createElement(MdClose, null))));
};

var ThemeEditorPaletteDrawer = function (props) {
    var onClose = props.onClose, palette = props.palette, _a = props.scale, scale = _a === void 0 ? [50, 100, 200, 300, 400, 500, 600, 700, 800, 900] : _a, token = props.token, rest = __rest(props, ["onClose", "palette", "scale", "token"]);
    var _b = useThemeEditor(), theme = _b.theme, setTheme = _b.setTheme;
    var btnRef = useRef();
    var closeBtnRef = useRef();
    var bgColor = useColorModeValue('white', 'gray.900');
    var bgColor2 = useColorModeValue('white', 'gray.800');
    var shadow = useColorModeValue('surface', 'surfaceDark');
    var handleChangeColor = useCallback(function (_a) {
        var _b, _c;
        var token = _a.token, index = _a.index, value = _a.value;
        if (theme && theme.colors && theme.colors[token] && theme.colors[token][index]) {
            if (typeof theme.colors[token][index] === 'string' &&
                theme.colors[token][index] !== value) {
                try {
                    var newTheme = __assign(__assign({}, theme), { colors: __assign(__assign({}, theme.colors), (_b = {}, _b[token] = __assign(__assign({}, theme.colors[token]), (_c = {}, _c[index] = value, _c)), _b)) });
                    // setThemeColor(token, index, value)
                    setTheme(newTheme);
                }
                catch (error) {
                    //
                }
            }
            // } else {
            //   try {
            //     const newColorPalette = generatePalette(value)
            //     const newTheme = {
            //       ...theme,
            //       colors: {
            //         ...theme.colors,
            //         [token]: newColorPalette,
            //       },
            //     } as any
            //     setThemeColorPalette(token, newColorPalette)
            //     setTheme(newTheme)
            //   } catch (error) {
            //     //
            //   }
            // }
        }
    }, [setTheme, theme]);
    return (React.createElement(Drawer, __assign({ placement: "right", finalFocusRef: btnRef, initialFocusRef: closeBtnRef, size: "md", blockScrollOnMount: false, onClose: onClose }, rest),
        React.createElement(DrawerContent, { bgColor: bgColor, shadow: "md", fontFamily: "Sora, sans-serif" },
            React.createElement(ThemeEditorPaletteDrawerHeader, { token: token, onClose: onClose, initialFocusRef: closeBtnRef }),
            React.createElement(DrawerBody, { pos: "relative", px: { base: 3, lg: 6 }, py: 3 },
                React.createElement(SimpleGrid, { columns: 2, spacing: { base: 3, lg: 4 } }, scale.map(function (paletteIndex, key) { return (React.createElement(BaseListItem, { key: "palette-item-" + key, shadow: shadow, bgColor: bgColor2, overflow: "visible" },
                    React.createElement(ThemeEditorColorItem, { title: token.toLowerCase() + "." + paletteIndex, token: token, colorIndex: paletteIndex, value: palette[paletteIndex], onChange: function (_a) {
                            var colorIndex = _a.colorIndex, token = _a.token, value = _a.value;
                            handleChangeColor({ token: token, index: colorIndex, value: value });
                        } }))); }))),
            React.createElement(DrawerFooter, { textAlign: "left", boxShadow: "xl", backgroundColor: bgColor, px: { base: 3, lg: 6 }, py: { base: 2, lg: 3 } },
                React.createElement(Box, null,
                    React.createElement(Button, { size: "lg", onClick: onClose }, "Cancel"))))));
};

k([namesPlugin]);
var ThemeEditorPalette = function (_a) {
    _a.p; _a.px; var palette = _a.palette, token = _a.token, _b = _a.scale, scale = _b === void 0 ? [50, 100, 200, 300, 400, 500, 600, 700, 800, 900] : _b; _a.value; var showIndex = _a.showIndex, disableEditDrawer = _a.disableEditDrawer, rest = __rest(_a, ["p", "px", "palette", "token", "scale", "value", "showIndex", "disableEditDrawer"]);
    var _c = useDisclosure(), onOpen = _c.onOpen, onClose = _c.onClose, isOpen = _c.isOpen;
    var shadow = useColorModeValue('surface', 'surfaceDark');
    var borderColor = useColorModeValue('blackAlpha.100', 'whiteAlpha.100');
    return (React.createElement(React.Fragment, null,
        React.createElement(Tooltip, { label: "Edit palette", "aria-label": "Edit palette", openDelay: 500, closeOnMouseDown: true, hasArrow: true, isDisabled: disableEditDrawer },
            React.createElement(SimpleGrid, __assign({ columns: 5, textAlign: "center", spacing: 0, overflow: "hidden", w: "100%", borderRadius: "6px", p: 0, h: 12, border: "1px solid", borderColor: borderColor, onClick: onOpen }, rest), scale.map(function (paletteIndex, key) { return (React.createElement(Center, { shadow: shadow, bgColor: palette[paletteIndex], fontSize: "0.75rem", borderColor: key < 5 ? 'whiteAlpha.600' : 'whiteAlpha.300', cursor: "pointer", key: key }, showIndex && (React.createElement(Text, { color: token.indexOf('white') >= 0 ? 'gray.500' : palette[scale[9 - key]], size: "xs", d: { base: 'none', md: 'inline' } }, paletteIndex)))); }))),
        !disableEditDrawer && (React.createElement(ThemeEditorPaletteDrawer, { onClose: onClose, isOpen: isOpen, palette: palette, token: token }))));
};

k([namesPlugin]);
var ThemeEditorPaletteColorItem = function (_a) {
    var p = _a.p, px = _a.px, palette = _a.palette, _b = _a.title, title = _b === void 0 ? 'Primary' : _b, token = _a.token, _c = _a.scale, scale = _c === void 0 ? [50, 100, 200, 300, 400, 500, 600, 700, 800, 900] : _c, value = _a.value, onChange = _a.onChange, hasDelete = _a.hasDelete, onDelete = _a.onDelete, showIndex = _a.showIndex, rest = __rest(_a, ["p", "px", "palette", "title", "token", "scale", "value", "onChange", "hasDelete", "onDelete", "showIndex"]);
    var _d = useState(value), currentValue = _d[0], setCurrentValue = _d[1];
    var rgbaString = useMemo(function () {
        if (!currentValue) {
            return '#ffffff';
        }
        return currentValue.startsWith('rgba') ? currentValue : w(currentValue).toRgbString();
    }, [currentValue]);
    var shadow = useColorModeValue('surface', 'surfaceDark');
    var safeB64Bg = useColorModeValue(COLOR_PICKER_TRANSPARENT_SAFE_BG_B64[0], COLOR_PICKER_TRANSPARENT_SAFE_BG_B64[1]);
    var handleValueChange = useCallback(function (event) {
        setCurrentValue(event.target.value);
    }, []);
    var handleDelete = useCallback(function () {
        if (onDelete) {
            onDelete(token);
        }
    }, [onDelete, token]);
    useDebouncyEffect(function () {
        if (w(currentValue).isValid() && currentValue !== value) {
            onChange({ token: token, value: currentValue });
        }
    }, 500, [currentValue]);
    useEffect(function () {
        setCurrentValue(value);
    }, [value]);
    // useEffect(() => {
    //   if (onChange && isColor(debouncedValue)) {
    //     onChange({ token, value: debouncedValue })
    //   }
    //   // eslint-disable-next-line react-hooks/exhaustive-deps
    // }, [debouncedValue])
    return (React.createElement(Box, __assign({ w: "100%" }, rest),
        React.createElement(Text, { mb: 1, p: p, px: px, fontSize: "0.875rem", textTransform: "capitalize" }, title),
        React.createElement(Flex, { alignItems: "center", p: p, px: px, pos: "relative", minH: "48px" },
            React.createElement(Popover, { trigger: "hover", placement: "bottom-start" },
                React.createElement(PopoverTrigger, null,
                    React.createElement(Box, { borderRadius: "full", bgSize: "cover", bgImage: "url(data:image/png;base64," + safeB64Bg + ")", cursor: "pointer", transition: "all 0.25s", mr: "0.75rem", _hover: {
                            shadow: 'md',
                        } },
                        React.createElement(Box, { boxSize: 8, bg: currentValue, shadow: shadow, border: "3px solid", borderColor: "rgba(220,220,220,0.4)", borderRadius: "full", minW: 8 }))),
                React.createElement(PopoverContent, { w: "min-content" },
                    React.createElement(PopoverBody, { p: "0", w: "min-content" },
                        React.createElement(ge, { color: rgbaString, onChange: setCurrentValue })))),
            React.createElement(Input, { w: palette && scale && scale.length > 0 ? 32 : '100%', size: "sm", borderRadius: "6px", shadow: shadow, cursor: "pointer", px: "0.5rem", pos: "sticky", left: "0", value: currentValue, onChange: handleValueChange, fontSize: "0.875rem", placeholder: "Color code" }),
            palette && scale && scale.length > 0 && (React.createElement(ThemeEditorPalette, { palette: palette, token: token, showIndex: showIndex, mx: 3 })),
            hasDelete && (React.createElement(Button, { size: "xs", "aria-label": "remove color", variant: "ghost", onClick: handleDelete, px: "0.5rem", opacity: 0.5, _hover: {
                    color: 'red.500',
                    opacity: 1,
                } },
                React.createElement(Icon, { as: FaTrashAlt, fontSize: "0.75rem" }))))));
};

var generatePalette = function (baseColor) {
    if (!baseColor) {
        throw new Error('color not provided');
    }
    return {
        900: w(baseColor).darken(0.3).toHex(),
        800: w(baseColor).darken(0.2).toHex(),
        700: w(baseColor).darken(0.15).toHex(),
        600: w(baseColor).darken(0.1).toHex(),
        500: baseColor,
        400: w(baseColor).lighten(0.1).toHex(),
        300: w(baseColor).lighten(0.15).toHex(),
        200: w(baseColor).lighten(0.2).toHex(),
        100: w(baseColor).lighten(0.25).toHex(),
        50: w(baseColor).lighten(0.35).toHex(),
    };
};

var initialFormValues = {
    name: '',
    isPaletteColor: true,
};
var TextInput = React.forwardRef(function (props, ref) {
    return (React.createElement(FormControl, null,
        React.createElement(FormLabel, { fontSize: "sm", htmlFor: props.id }, props.label),
        React.createElement(Input, __assign({ ref: ref, id: props.id, size: "sm", borderRadius: "md" }, props))));
});
var ThemeEditorPalettePopoverForm = function (props) {
    var buttonProps = props.buttonProps;
    var _a = useDisclosure(), onOpen = _a.onOpen, onClose = _a.onClose, isOpen = _a.isOpen;
    var _b = useState(undefined), tempPalette = _b[0], setTempPalette = _b[1];
    var initialFocusRef = React.useRef(null);
    var _c = useThemeEditor(), theme = _c.theme, setTheme = _c.setTheme;
    var _d = useState(initialFormValues), formState = _d[0], setFormState = _d[1];
    var handleInputChange = useCallback(function (event) {
        var _a;
        var target = event.target;
        var value = target.type === 'checkbox' ? target.checked : target.value;
        var name = target.name;
        if (name === 'isPaletteColor' && formState.color) {
            if (value) {
                setTempPalette(generatePalette(formState.color));
            }
            else {
                setTempPalette(undefined);
            }
        }
        setFormState(__assign(__assign({}, formState), (_a = {}, _a[name] = value, _a)));
    }, [formState]);
    var handleColorChange = useCallback(function (_a) {
        _a.token; var value = _a.value;
        setFormState(__assign(__assign({}, formState), { color: value }));
        if (formState.isPaletteColor) {
            setTempPalette(generatePalette(value));
        }
        else {
            setTempPalette(undefined);
        }
    }, [formState]);
    var handleCreateBrandColor = useCallback(function () {
        var _a;
        try {
            var token = formState.name.toLowerCase();
            var newPalette = generatePalette(formState.color);
            var newTheme = __assign(__assign({}, theme), { colors: __assign(__assign({}, theme.colors), (_a = {}, _a[token] = formState.isPaletteColor ? newPalette : formState.color, _a)) });
            if (formState.isPaletteColor) {
                setThemeColorPalette(token, newPalette);
            }
            else {
                setThemeSingleColor(token, formState.color);
            }
            setTheme(newTheme);
            setFormState(initialFormValues);
            setTempPalette(undefined);
            onClose();
        }
        catch (error) {
            //
        }
    }, [formState.color, formState.isPaletteColor, formState.name, onClose, setTheme, theme]);
    var isFormValid = useMemo(function () { return formState.name && formState.color; }, [formState]);
    return (React.createElement(Popover, { isOpen: isOpen, initialFocusRef: initialFocusRef, onOpen: onOpen, onClose: onClose, placement: "bottom", closeOnBlur: false, trigger: "click" },
        React.createElement(PopoverTrigger, null,
            React.createElement(Button, __assign({ size: "xs", alignSelf: "flex-start", px: "0.5rem" }, buttonProps),
                React.createElement(Icon, { as: FaPlus, mr: "0.25rem" }),
                " Add Color")),
        React.createElement(PopoverContent, { minW: "380px" },
            React.createElement(PopoverCloseButton, null),
            React.createElement(PopoverHeader, { fontWeight: "bold" }, "Add Color"),
            React.createElement(PopoverBody, null,
                React.createElement(Stack, { spacing: 4, mt: 4, mb: 2 },
                    React.createElement(TextInput, { label: "Color name", placeholder: "Color name", name: "name", id: "name", value: formState === null || formState === void 0 ? void 0 : formState.name, onChange: handleInputChange, ref: initialFocusRef }),
                    React.createElement(Flex, { alignItems: "center" },
                        React.createElement(ThemeEditorPaletteColorItem, { title: "New color", token: "newColor", palette: tempPalette, onChange: handleColorChange, textAlign: "left", w: "100%" }),
                        React.createElement(Flex, { direction: "column", justifyContent: "center", w: "auto", ml: 2 },
                            React.createElement(FormLabel, { htmlFor: "is-palette-color", fontSize: "sm", mr: 0 }, "Palette"),
                            React.createElement(Switch, { id: "is-palette-color", name: "isPaletteColor", isChecked: formState === null || formState === void 0 ? void 0 : formState.isPaletteColor, onChange: handleInputChange, colorScheme: "primary", size: "md", alignSelf: "flex-end" }))))),
            React.createElement(PopoverFooter, null,
                React.createElement(ButtonGroup, { d: "flex", justifyContent: "flex-end" },
                    React.createElement(Button, { onClick: onClose, size: "sm" }, "Cancel"),
                    React.createElement(Button, { onClick: handleCreateBrandColor, isDisabled: !isFormValid, colorScheme: "primary", size: "sm" }, "Create color"))))));
};

var ThemeEditorColors = function (props) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;
    var _0 = useThemeEditor(), theme = _0.theme, setTheme = _0.setTheme;
    var handleChangeColor = useCallback(function (_a) {
        var _b, _c;
        var token = _a.token, value = _a.value;
        if (theme && theme.colors && theme.colors[token]) {
            if (typeof theme.colors[token] === 'string' && theme.colors[token] !== value) {
                try {
                    var newTheme = __assign(__assign({}, theme), { colors: __assign(__assign({}, theme.colors), (_b = {}, _b[token] = value, _b)) });
                    // setThemeSingleColor(token, value)
                    setTheme(newTheme);
                }
                catch (error) {
                    //
                }
            }
            else {
                try {
                    var newColorPalette = generatePalette(value);
                    var newTheme = __assign(__assign({}, theme), { colors: __assign(__assign({}, theme.colors), (_c = {}, _c[token] = newColorPalette, _c)) });
                    setTheme(newTheme);
                }
                catch (error) {
                    //
                }
            }
        }
    }, [setTheme, theme]);
    var handleDeleteCustomColor = useCallback(function (token) {
        if ((theme === null || theme === void 0 ? void 0 : theme.colors) && theme.colors[token]) {
            var newThemeColors = __assign({}, theme === null || theme === void 0 ? void 0 : theme.colors);
            delete newThemeColors[token];
            setTheme(__assign(__assign({}, theme), { colors: newThemeColors }));
        }
    }, [setTheme, theme]);
    var customColorTokens = useMemo(function () {
        if (!theme || !theme.colors) {
            return [];
        }
        return Object.keys(theme.colors).filter(function (item) { return themeColorKeys.indexOf(item) === -1; });
    }, [theme]);
    return (React.createElement(Accordion, { p: 0, mr: "-1rem", defaultIndex: 0, allowToggle: true },
        React.createElement(ThemeEditorAccordionItem, { title: "Custom colors", fontSize: "lg", subtitle: "Add your colors here (click 'Add Color')" },
            customColorTokens.map(function (item, index) {
                return (React.createElement(ThemeEditorPaletteColorItem, { key: "theme-custom-color-" + item, token: item, title: item, palette: typeof theme.colors[item] === 'string' ? undefined : theme.colors[item], value: typeof theme.colors[item] === 'string'
                        ? theme === null || theme === void 0 ? void 0 : theme.colors[item]
                        : theme.colors[item][500], onChange: handleChangeColor, hasDelete: true, onDelete: handleDeleteCustomColor, showIndex: true }));
            }),
            customColorTokens.length == 0 ? (React.createElement(EmptyBox, { w: "100%", h: "auto", title: "No custom colors", subtitle: "Add your first custom color:", spacing: 1, icon: CgColorPicker },
                React.createElement(ThemeEditorPalettePopoverForm, { buttonProps: { colorScheme: 'primary', size: 'sm' } }))) : (React.createElement(ThemeEditorPalettePopoverForm, null))),
        React.createElement(ThemeEditorAccordionItem, { title: "Tint", fontSize: "lg" },
            React.createElement(ThemeEditorPaletteColorItem, { token: "blue", title: "Blue", palette: (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.blue, value: "" + ((_b = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _b === void 0 ? void 0 : _b.blue[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "red", title: "Red", palette: (_c = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _c === void 0 ? void 0 : _c.red, value: "" + ((_d = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _d === void 0 ? void 0 : _d.red[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "green", title: "Green", palette: (_e = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _e === void 0 ? void 0 : _e.green, value: "" + ((_f = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _f === void 0 ? void 0 : _f.green[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "orange", title: "Orange", palette: (_g = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _g === void 0 ? void 0 : _g.orange, value: "" + ((_h = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _h === void 0 ? void 0 : _h.orange[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "yellow", title: "Yellow", palette: (_j = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _j === void 0 ? void 0 : _j.yellow, value: "" + ((_k = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _k === void 0 ? void 0 : _k.yellow[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "purple", title: "Purple", palette: (_l = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _l === void 0 ? void 0 : _l.purple, value: "" + ((_m = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _m === void 0 ? void 0 : _m.purple[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "teal", title: "Teal", palette: (_o = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _o === void 0 ? void 0 : _o.teal, value: "" + ((_p = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _p === void 0 ? void 0 : _p.teal[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "cyan", title: "Cyan", palette: (_q = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _q === void 0 ? void 0 : _q.cyan, value: "" + ((_r = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _r === void 0 ? void 0 : _r.cyan[500]), onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { token: "pink", title: "Pink", palette: (_s = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _s === void 0 ? void 0 : _s.pink, value: "" + ((_t = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _t === void 0 ? void 0 : _t.pink[500]), onChange: handleChangeColor, showIndex: true })),
        React.createElement(ThemeEditorAccordionItem, { title: "Grayscale", fontSize: "lg" },
            React.createElement(ThemeEditorPaletteColorItem, { token: "gray", title: "Gray", palette: (_u = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _u === void 0 ? void 0 : _u.gray, value: (_v = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _v === void 0 ? void 0 : _v.gray[500], onChange: handleChangeColor, showIndex: true })),
        React.createElement(ThemeEditorAccordionItem, { title: "Alpha", fontSize: "lg" },
            React.createElement(ThemeEditorPaletteColorItem, { title: "WhiteAlpha", token: "whiteAlpha", palette: (_w = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _w === void 0 ? void 0 : _w.whiteAlpha, value: (_x = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _x === void 0 ? void 0 : _x.whiteAlpha[500], onChange: handleChangeColor, showIndex: true }),
            React.createElement(ThemeEditorPaletteColorItem, { title: "BlackAlpha", token: "blackAlpha", palette: (_y = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _y === void 0 ? void 0 : _y.blackAlpha, value: (_z = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _z === void 0 ? void 0 : _z.blackAlpha[500], onChange: handleChangeColor, showIndex: true }))));
};

export { ThemeEditorColorItem, ThemeEditorColors, ThemeEditorPalette, ThemeEditorPaletteDrawer, ThemeEditorPalettePopoverForm, generatePalette };
//# sourceMappingURL=index.esm.js.map
